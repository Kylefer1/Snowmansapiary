<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snowman’s Apiary</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
html, body {
  margin: 0;
  padding: 0;
  background: radial-gradient(circle at top, #0b1d2e, #040b14);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: white;
  overflow: hidden;
}

/* Background blur layer */
.bg {
  position: fixed;
  inset: 0;
  background: linear-gradient(180deg, #0d2238, #02070d);
  filter: blur(20px);
  transform: scale(1.1);
  z-index: 0;
}

/* Foreground card */
.card {
  position: relative;
  z-index: 2;
  max-width: 720px;
  margin: 70px auto;
  padding: 24px;
  border-radius: 18px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(10px);
  text-align: center;
}

.card img {
  max-width: 100%;
  border-radius: 12px;
}

h1 {
  margin: 14px 0 6px;
  font-size: 40px;
}

p {
  opacity: 0.85;
  font-size: 18px;
}

.btn {
  display: inline-block;
  margin-top: 12px;
  padding: 12px 18px;
  border-radius: 12px;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.18);
  color: white;
  text-decoration: none;
  font-weight: 700;
}

/* Snow canvas */
canvas {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* Snow pile */
#pile {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 0;
  background: #e9eef2;
  border-top-left-radius: 50% 30px;
  border-top-right-radius: 50% 30px;
  z-index: 3;
}

/* HUD */
.hud {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 4;
  font-size: 13px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(8px);
}

.hud div {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

/* Screen shake */
@keyframes shake {
  0% { transform: translate(0,0); }
  25% { transform: translate(-3px,2px); }
  50% { transform: translate(3px,-2px); }
  75% { transform: translate(-2px,-3px); }
  100% { transform: translate(0,0); }
}

body.blizzard {
  animation: shake 0.15s infinite;
}
</style>
</head>

<body>
<div class="bg"></div>

<canvas id="snow"></canvas>
<div id="pile"></div>

<div class="hud">
  <div><span>Score</span><span id="score">0</span></div>
  <div><span>High</span><span id="high">0</span></div>
  <div><span>Combo</span><span id="combo">x0</span></div>
  <div><span>Blizzard</span><span id="blizzard">idle</span></div>
  <div style="opacity:.7">Tap pile to shovel ❄️</div>
</div>

<div class="card">
  <img src="logo.png" alt="Snowman’s Apiary">
  <h1>Snowman’s Apiary</h1>
  <p>Local honey & apiary goods.</p>
  <p><strong>Currently out of stock — expecting more honey by summer.</strong></p>
  <a class="btn" href="mailto:snowmansapiary@yahoo.com">Email Snowman’s Apiary</a>
</div>

<script>
/* Canvas snow */
const canvas = document.getElementById('snow');
const ctx = canvas.getContext('2d');
function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
addEventListener('resize', resize);
resize();

const flakes = [];
const FLAKES = 160;

for(let i=0;i<FLAKES;i++){
  flakes.push({
    x: Math.random()*innerWidth,
    y: Math.random()*innerHeight,
    r: Math.random()*2.5+1,
    v: Math.random()*0.6+0.3
  });
}

/* Game state */
let pile = 0;
let score = 0;
let combo = 0;
let high = localStorage.high || 0;

let blizzardMeter = 0;
let blizzard = false;
let blizzardTime = 0;

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const speed = blizzard ? 4.5 : 1;

  flakes.forEach(f=>{
    f.y += f.v * speed;
    if(f.y > innerHeight) f.y = -10;
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fillStyle = 'rgba(255,255,255,0.85)';
    ctx.fill();
  });

  /* Snow accumulation */
  pile += blizzard ? 1.9 : 0.35;

  /* Blizzard logic */
  if(!blizzard){
    blizzardMeter += 0.0009;
    if(blizzardMeter >= 1){
      blizzard = true;
      blizzardTime = 0;
      document.body.classList.add('blizzard');
    }
  } else {
    blizzardTime += 0.016;
    if(blizzardTime > 14){
      blizzard = false;
      blizzardMeter = 0;
      document.body.classList.remove('blizzard');
    }
  }

  document.getElementById('pile').style.height = pile + 'px';

  document.getElementById('score').textContent = score;
  document.getElementById('combo').textContent = 'x' + combo;
  document.getElementById('high').textContent = high;
  document.getElementById('blizzard').textContent = blizzard ? 'ACTIVE' : 'idle';

  requestAnimationFrame(loop);
}
loop();

/* Shoveling — intentionally weak */
document.body.addEventListener('pointerdown', ()=>{
  let base = blizzard ? 3.2 : 6.5;
  let fatigue = blizzard ? Math.max(0.25, 1 - blizzardTime * 0.07) : 1;

  let removed = base * fatigue;
  pile = Math.max(0, pile - removed);

  combo++;
  score += combo;

  if(score > high){
    high = score;
    localStorage.high = high;
  }
});

/* Lose condition */
setInterval(()=>{
  if(pile > innerHeight){
    pile = 0;
    score = 0;
    combo = 0;
    blizzard = false;
    blizzardMeter = 0;
    document.body.classList.remove('blizzard');
  }
}, 500);
</script>
</body>
</html>
